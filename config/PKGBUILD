tar -h --exclude=.idea -cf rootfs.tar -C rootfs .

pkgname=linux-config
pkgver=0.1.0
pkgrel=12
pkgdesc='linux config'
url="https://github.com/uarslan-git/linux-config"
license=('GPL3')
arch=('x86_64')

pkgname=linux-config
pkgver=0.1.0
pkgrel=12
pkgdesc='linux config'
url="https://github.com/uarslan-git/linux-config"
license=('GPL3')
arch=('x86_64')
source=('rootfs.tar')
noextract=('rootfs.tar')
sha512sums=('SKIP')

#startPackages
depends=(
    7zip
    adobe-source-han-sans-jp-fonts
    amd-ucode
    angular-cli
    ani-cli
    anki-bin
    ardour
    audacity
    baobab
    base
    base-devel
    bash-language-server
    blender
    bottles
    btop
    carla
    ceserver
    cheat-engine-zh
    csharp-ls
    cups
    cups-pdf
    curl
    decibels
    docker
    docker-compose
    dockerfile-language-server
    dolphin-emu
    dotnet-sdk
    efibootmgr
    element-desktop
    epiphany
    fd
    firefox
    fzf
    fzf-tab-git
    gdb
    gdm
    ghidra
    git
    git-delta
    git-filter-repo
    github-cli
    git-secret
    gnome-backgrounds
    gnome-calculator
    gnome-calendar
    gnome-characters
    gnome-clocks
    gnome-color-manager
    gnome-connections
    gnome-console
    gnome-contacts
    gnome-control-center
    gnome-disk-utility
    gnome-font-viewer
    gnome-keyring
    gnome-logs
    gnome-maps
    gnome-menus
    gnome-music
    gnome-remote-desktop
    gnome-software
    gnome-system-monitor
    gnome-text-editor
    gnome-tour
    gnome-tweaks
    gnome-user-docs
    gnome-user-share
    gnome-weather
    graphql-lsp
    grilo-plugins
    gst-plugin-pipewire
    guitarix
    gvfs
    gvfs-afc
    gvfs-dnssd
    gvfs-goa
    gvfs-google
    gvfs-gphoto2
    gvfs-mtp
    gvfs-nfs
    gvfs-onedrive
    gvfs-smb
    gvfs-wsdd
    gxplugins-lv2-git
    hyprland
    hyprpicker
    hyprshot
    ida-free
    imhex-bin
    intel-compute-runtime
    intel-media-driver
    intel-ucode
    iwd
    jdownloader2
    jetbrains-toolbox
    k9s
    kaccounts-providers
    kanagawa-gtk-theme-git
    kanagawa-icon-theme-git
    kanshi
    kdeconnect
    kdenlive
    keepassxc
    kio-gdrive
    kitty
    layer-shell-qt5
    linux
    linux-firmware
    linux-lts-headers
    loupe
    lua-language-server
    malcontent
    man-db
    mangohud
    man-pages
    maven
    mesa-utils
    mongodb-bin
    mongosh-bin
    nano
    neovim
    net-tools
    networkmanager
    network-manager-applet
    nmap
    nodejs-lts-jod
    notion-app-electron
    notion-calendar-electron
    npm
    ntfs-3g
    nvim-lazy
    obsidian
    obs-studio
    oh-my-zsh-git
    openssh
    orca
    otf-aurulent-nerd
    papers
    paru
    paru-debug
    pavucontrol
    pcsx2-latest-bin
    pipewire
    pipewire-alsa
    pipewire-docs
    pipewire-jack
    pipewire-pulse
    proton-ge-custom-bin
    pyright
    python
    python-i3ipc
    python-virtualenv
    qbittorrent
    qjackctl
    ranger
    rar
    rclone
    reclass.net-bin
    ripgrep
    rygel
    samba
    showtime
    simple-scan
    snapshot
    sof-firmware
    sql-language-server
    steam
    sushi
    systemd
    teamspeak
    tecla
    texlab
    texlive-basic
    texlive-bibtexextra
    texlive-binextra
    texlive-context
    texlive-fontsextra
    texlive-fontsrecommended
    texlive-fontutils
    texlive-formatsextra
    texlive-games
    texlive-humanities
    texlive-latex
    texlive-latexextra
    texlive-latexrecommended
    texlive-luatex
    texlive-mathscience
    texlive-metapost
    texlive-music
    texlive-pictures
    texlive-plaingeneric
    texlive-pstricks
    texlive-publishers
    texlive-xetex
    texstudio
    thunderbird
    tlp
    tmux
    torbrowser-launcher
    tree
    ttf-nerd-fonts-symbols
    typescript-language-server
    ufw
    unityhub
    unzip
    ventoy-bin
    vesktop-bin
    vi
    vim
    vimix-kanagawa-cursors
    visual-studio-code-bin
    vlc
    vscode-html-languageserver
    vscode-json-languageserver
    vue-language-server
    vulkan-intel
    vulkan-radeon
    vulkan-tools
    wget
    which
    winetricks
    wireless_tools
    wireplumber
    xarchiver
    xdg-desktop-portal-gtk
    xdg-desktop-portal-hyprland
    xdg-utils
    xdotool
    xss-lock
    yad
    yarn
    yelp
    ytmdesktop-git
    zeal
    zip
    zoom
    zotero-bin
    zsh
    zsh-autosuggestions
    zsh-completions
    zsh-syntax-highlighting
    zsh-theme-powerlevel10k-git
    zsh-you-should-use
  )
  #endPackages

if lspci | grep -i 'GeForce'; then depends+=(
    mangohud
    nvidia
    nvidia-settings
    upscayl-bin
    opencl-nvidia
    zerotier-one
    ); fi

  # Functions
  paru() {
      if ! pacman -Qq | grep -i paru &>/dev/null; then
          git clone https://aur.archlinux.org/paru.git
          pushd paru
          makepkg -sif
          popd
          rm -rf paru
      fi
  }

zsh() {
    if [ $(basename $SHELL) != "zsh" ]; then
        chsh -s /usr/bin/zsh
    fi
}

paru
zsh

package() {
    tar -xf rootfs.tar -C "$pkgdir" --overwrite
    echo "finished"
}
